{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{Send,Loader2}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChatInterface=_ref=>{let{messages,onSendMessage,isLoading}=_ref;const[input,setInput]=useState('');const messagesEndRef=useRef(null);const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};useEffect(()=>{scrollToBottom();},[messages]);const handleSubmit=e=>{e.preventDefault();if(input.trim()&&!isLoading){onSendMessage(input);setInput('');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto px-4 py-6 space-y-4\",children:[messages.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\u2708\\uFE0F\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-2\",children:\"Plan Your Perfect Trip\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Tell me where you'd like to go and I'll help you create an amazing itinerary!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onSendMessage('Plan a 7-day trip to Japan, budget-friendly, interested in culture and food'),className:\"p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-primary-500 transition-colors text-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-gray-800\",children:\"\\uD83C\\uDDEF\\uD83C\\uDDF5 Japan Adventure\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"7 days, culture & food\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onSendMessage('Plan a 5-day trip to Paris for art lovers'),className:\"p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-primary-500 transition-colors text-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-gray-800\",children:\"\\uD83C\\uDDEB\\uD83C\\uDDF7 Paris Getaway\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"5 days, art & culture\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onSendMessage('Find flights from San Francisco to Tokyo for June 1-8'),className:\"p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-primary-500 transition-colors text-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-gray-800\",children:\"\\u2708\\uFE0F Flight Search\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Find the best flights\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onSendMessage('Show me hotel options in Barcelona'),className:\"p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-primary-500 transition-colors text-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-gray-800\",children:\"\\uD83C\\uDFE8 Hotel Search\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Find great accommodations\"})]})]})]}):messages.map((msg,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"message flex \".concat(msg.type==='user'?'justify-end':'justify-start'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-3xl rounded-2xl px-6 py-4 \".concat(msg.type==='user'?'bg-primary-600 text-white':'bg-white border border-gray-200 text-gray-800'),children:[msg.type==='ai'&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center text-white font-bold\",children:\"AI\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold text-gray-700\",children:\"Travel Assistant\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"whitespace-pre-wrap\",children:msg.content}),msg.timestamp&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs opacity-70 mt-2\",children:new Date(msg.timestamp).toLocaleTimeString()})]})},index)),isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"message flex justify-start\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-3xl rounded-2xl px-6 py-4 bg-white border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"w-5 h-5 animate-spin text-primary-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Planning your trip...\"})]})})}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200 bg-white px-4 py-4\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,className:\"max-w-4xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input,onChange:e=>setInput(e.target.value),placeholder:\"Ask me to plan a trip, search flights, find hotels...\",className:\"input-field flex-1\",disabled:isLoading,\"data-testid\":\"chat-input\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:!input.trim()||isLoading,className:\"btn-primary flex items-center gap-2 px-6\",\"data-testid\":\"send-message-btn\",children:[/*#__PURE__*/_jsx(Send,{className:\"w-5 h-5\"}),\"Send\"]})]})})})]});};export default ChatInterface;","map":{"version":3,"names":["React","useState","useRef","useEffect","Send","Loader2","jsx","_jsx","jsxs","_jsxs","ChatInterface","_ref","messages","onSendMessage","isLoading","input","setInput","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSubmit","e","preventDefault","trim","className","children","length","onClick","map","msg","index","concat","type","content","timestamp","Date","toLocaleTimeString","ref","onSubmit","value","onChange","target","placeholder","disabled"],"sources":["/app/frontend/src/components/ChatInterface.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { Send, Loader2 } from 'lucide-react';\n\nconst ChatInterface = ({ messages, onSendMessage, isLoading }) => {\n  const [input, setInput] = useState('');\n  const messagesEndRef = useRef(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (input.trim() && !isLoading) {\n      onSendMessage(input);\n      setInput('');\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col h-full\">\n      {/* Messages Area */}\n      <div className=\"flex-1 overflow-y-auto px-4 py-6 space-y-4\">\n        {messages.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <div className=\"text-6xl mb-4\">‚úàÔ∏è</div>\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Plan Your Perfect Trip</h2>\n            <p className=\"text-gray-600\">Tell me where you'd like to go and I'll help you create an amazing itinerary!</p>\n            <div className=\"mt-8 grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl mx-auto\">\n              <button\n                onClick={() => onSendMessage('Plan a 7-day trip to Japan, budget-friendly, interested in culture and food')}\n                className=\"p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-primary-500 transition-colors text-left\"\n              >\n                <div className=\"font-semibold text-gray-800\">üáØüáµ Japan Adventure</div>\n                <div className=\"text-sm text-gray-600\">7 days, culture & food</div>\n              </button>\n              <button\n                onClick={() => onSendMessage('Plan a 5-day trip to Paris for art lovers')}\n                className=\"p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-primary-500 transition-colors text-left\"\n              >\n                <div className=\"font-semibold text-gray-800\">üá´üá∑ Paris Getaway</div>\n                <div className=\"text-sm text-gray-600\">5 days, art & culture</div>\n              </button>\n              <button\n                onClick={() => onSendMessage('Find flights from San Francisco to Tokyo for June 1-8')}\n                className=\"p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-primary-500 transition-colors text-left\"\n              >\n                <div className=\"font-semibold text-gray-800\">‚úàÔ∏è Flight Search</div>\n                <div className=\"text-sm text-gray-600\">Find the best flights</div>\n              </button>\n              <button\n                onClick={() => onSendMessage('Show me hotel options in Barcelona')}\n                className=\"p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-primary-500 transition-colors text-left\"\n              >\n                <div className=\"font-semibold text-gray-800\">üè® Hotel Search</div>\n                <div className=\"text-sm text-gray-600\">Find great accommodations</div>\n              </button>\n            </div>\n          </div>\n        ) : (\n          messages.map((msg, index) => (\n            <div\n              key={index}\n              className={`message flex ${\n                msg.type === 'user' ? 'justify-end' : 'justify-start'\n              }`}\n            >\n              <div\n                className={`max-w-3xl rounded-2xl px-6 py-4 ${\n                  msg.type === 'user'\n                    ? 'bg-primary-600 text-white'\n                    : 'bg-white border border-gray-200 text-gray-800'\n                }`}\n              >\n                {msg.type === 'ai' && (\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center text-white font-bold\">\n                      AI\n                    </div>\n                    <span className=\"text-sm font-semibold text-gray-700\">Travel Assistant</span>\n                  </div>\n                )}\n                <div className=\"whitespace-pre-wrap\">{msg.content}</div>\n                {msg.timestamp && (\n                  <div className=\"text-xs opacity-70 mt-2\">\n                    {new Date(msg.timestamp).toLocaleTimeString()}\n                  </div>\n                )}\n              </div>\n            </div>\n          ))\n        )}\n        {isLoading && (\n          <div className=\"message flex justify-start\">\n            <div className=\"max-w-3xl rounded-2xl px-6 py-4 bg-white border border-gray-200\">\n              <div className=\"flex items-center gap-3\">\n                <Loader2 className=\"w-5 h-5 animate-spin text-primary-600\" />\n                <span className=\"text-gray-600\">Planning your trip...</span>\n              </div>\n            </div>\n          </div>\n        )}\n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Input Area */}\n      <div className=\"border-t border-gray-200 bg-white px-4 py-4\">\n        <form onSubmit={handleSubmit} className=\"max-w-4xl mx-auto\">\n          <div className=\"flex gap-3\">\n            <input\n              type=\"text\"\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              placeholder=\"Ask me to plan a trip, search flights, find hotels...\"\n              className=\"input-field flex-1\"\n              disabled={isLoading}\n              data-testid=\"chat-input\"\n            />\n            <button\n              type=\"submit\"\n              disabled={!input.trim() || isLoading}\n              className=\"btn-primary flex items-center gap-2 px-6\"\n              data-testid=\"send-message-btn\"\n            >\n              <Send className=\"w-5 h-5\" />\n              Send\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatInterface;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}